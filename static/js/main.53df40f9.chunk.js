(this["webpackJsonpicf-report-react-app"]=this["webpackJsonpicf-report-react-app"]||[]).push([[0],{124:function(e,t,a){e.exports=a.p+"static/media/logo.f6ef32c7.svg"},132:function(e,t,a){e.exports=a(220)},150:function(e,t,a){},153:function(e,t,a){},171:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},220:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),i=a(7),l=a(46),s=(a(141),a(121)),u=a(9),p="LOGIN",d=function(e){return function(t){return function(a){if((c=a.payload)&&"function"===typeof c.then){e.dispatch({type:"ASYNC_START",subtype:a.type});var n=e.getState().viewChangeCounter,r=a.skipTracking;a.payload.then((function(t){var c=e.getState();(r||c.viewChangeCounter===n)&&(a.payload=t,e.dispatch({type:"ASYNC_END",promise:a.payload}),e.dispatch(a))}),(function(t){var c=e.getState();(r||c.viewChangeCounter===n)&&(a.error=!0,a.payload=t.response.body,a.skipTracking||e.dispatch({type:"ASYNC_END",promise:a.payload}),e.dispatch(a))}))}else{var c;t(a)}}}},m=function(e){return function(e){return function(t){"REGISTER"===t.type||t.type===p?t.error||(window.localStorage.setItem("jwt",t.payload.user.token),u.a.setToken(t.payload.user.token)):"LOGOUT"===t.type&&(window.localStorage.setItem("jwt",""),u.a.setToken(null)),e(t)}}};var h=a(37),E=a(5),f={redirectToHome:!1},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:case"REGISTER":return Object(E.a)({},e,{inProgress:!1,errors:t.error?t.payload.errors:null,redirectToHome:!t.error});case"LOGIN_PAGE_UNLOADED":case"REGISTER_PAGE_UNLOADED":return{};case"ASYNC_START":if(t.subtype===p||"REGISTER"===t.subtype)return Object(E.a)({},e,{inProgress:!0});break;case"UPDATE_FIELD_AUTH":return Object(E.a)({},e,Object(h.a)({},t.key,t.value));default:return e}return e},y={appName:"icf-report",token:null,viewChangeCounter:0},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP_LOAD":return Object(E.a)({},e,{token:t.token||null,appLoaded:!0,currentUser:t.payload?t.payload.user:null});case"LOGOUT":return Object(E.a)({},e,{token:null,currentUser:null});case"SETTINGS_SAVED":return Object(E.a)({},e,{currentUser:t.error?null:t.payload.user});case p:case"REGISTER":return Object(E.a)({},e,{token:t.error?null:t.payload.user.token,currentUser:t.error?null:t.payload.user});case"EDITOR_PAGE_UNLOADED":case"HOME_PAGE_UNLOADED":case"SETTINGS_PAGE_UNLOADED":case"LOGIN_PAGE_UNLOADED":case"REGISTER_PAGE_UNLOADED":return Object(E.a)({},e,{viewChangeCounter:e.viewChangeCounter+1});default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HOME_PAGE_LOADED":return Object(E.a)({},e,{reports:t.payload[0]});case"HOME_PAGE_UNLOADED":return{};case"DELETE_REPORT":return Object(E.a)({},e,{reports:e.reports.filter((function(e){return e.id!==t.reportId})),errors:t.error?t.payload.errors:null});default:return e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SETTINGS_SAVED":return Object(E.a)({},e,{inProgress:!1,errors:t.error?t.payload.errors:null});case"SETTINGS_PAGE_UNLOADED":return{};case"ASYNC_START":if("SETTINGS_SAVED"===t.subtype)return Object(E.a)({},e,{inProgress:!0});break;default:return e}return e},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CODE_PAGE_LOADED":return Object(E.a)({},e,{codes:t.payload[0]});case"CODE_ADDED":return Object(E.a)({},e,{codes:(e.codes||[]).concat([t.payload.code]),successId:t.payload.code.id});case"CODE_UPDATED":return Object(E.a)({},e,{codes:e.codes.map((function(e){return e.id===t.payload.code.id?Object.assign(e,t.payload.code):e})),successId:t.payload.code.id});case"DELETE_CODE":return Object(E.a)({},e,{codes:e.codes.filter((function(e){return e.id!==t.codeId})),errors:t.error?t.payload.errors:null,successId:t.codeId});case"CODE_PAGE_UNLOADED":return{};default:return e}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CODE_SUBMITTED":return Object(E.a)({},e,{inProgress:null,newCode:t.error?null:t.payload.code,errors:t.error?t.payload.errors:null});case"ASYNC_START":if("CODE_SUBMITTED"===t.subtype)return Object(E.a)({},e,{inProgress:!0});break;case"CODE_FORM_PAGE_LOADED":return Object(E.a)({},e,{codeReceived:!0,code:t.payload?t.payload.code.code:"",title:t.payload?t.payload.code.title:"",description:t.payload?t.payload.code.description:"",inclusions:[],exclusions:[]});case"CODE_EDITOR_PAGE_TOGGLED":return Object(E.a)({},e,{modal:!e.modal||!e.modal,codeId:t.codeId?t.codeId:null});case"CODE_FORM_PAGE_UNLOADED":return{};default:return e}return e},I=a(16),T=a.n(I),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITOR_PAGE_LOADED":return Object(E.a)({},e,{codes:t.payload[0],reportId:t.payload[1]?t.payload[1].report.id:-1,patient:{name:"",surname:"",diagnosis:"",dob:null},therapist:{name:"",surname:"",company:""},type:t.payload[1]?t.payload[1].report.type:"",date:t.payload[1]&&T()(t.payload[1].report.date,"YYYY-MM-DD").isValid()?T()(t.payload[1].report.date,"YYYY-MM-DD").toDate():null,functions:t.payload[2]?t.payload[2].map((function(e){return Object(E.a)({},e,{codeId:e.code.id,value:{}})})):[],structures:t.payload[3]?t.payload[3].map((function(e){return Object(E.a)({},e,{codeId:e.code.id,value:{}})})):[],activities:t.payload[4]?t.payload[4].map((function(e){return Object(E.a)({},e,{codeId:e.code.id,value:{}})})):[],contexts:t.payload[5]?t.payload[5].map((function(e){return Object(E.a)({},e,{codeId:e.code.id,value:{}})})):[]});case"EDITOR_PAGE_UNLOADED":return{};case"REPORT_UPLOADED":return Object(E.a)({},e,{reportId:t.payload?t.payload.id:-1,type:t.payload?t.payload.type:"",patient:t.payload?{name:t.payload.patient.name,surname:t.payload.patient.surname,diagnosis:t.payload.patient.diagnosis,dob:T()(t.payload.patient.dob,"YYYY-MM-DD").isValid()?T()(t.payload.patient.dob,"YYYY-MM-DD").toDate():null}:"",therapist:t.payload?t.payload.therapist:"",freeText:t.payload?t.payload.freeText:"",date:t.payload&&T()(t.payload.date,"YYYY-MM-DD").isValid()?T()(t.payload.date,"YYYY-MM-DD").toDate():null,functions:t.payload.functions?t.payload.functions:[],structures:t.payload.structures?t.payload.structures:[],activities:t.payload.activities?t.payload.activities:[],contexts:t.payload.contexts?t.payload.contexts:[]});case"REPORT_SUBMITTED":return Object(E.a)({},e,{inProgress:null,errors:t.error?t.payload.errors:null,newReport:t.error?null:t.payload.report});case"ASYNC_START":if("REPORT_SUBMITTED"===t.subtype)return Object(E.a)({},e,{inProgress:!0});break;case"UPDATE_FIELD_REPORT":return Object(E.a)({},e,Object(h.a)({},t.key,t.value));case"UPDATE_FIELD_REPORT_PATIENT":return e.patient[t.key]=t.value,Object(E.a)({},e);case"UPDATE_FIELD_REPORT_THERAPIST":return e.therapist[t.key]=t.value,Object(E.a)({},e);case"FUNCTION_SUBMITTED":return Object(E.a)({},e,{newReport:null,inProgress:null,errors:t.error?t.payload.errors:null});case"FUNCTION_ADDED":return Object(E.a)({},e,{functions:(e.functions||[]).concat([t.func])});case"STRUCTURE_ADDED":return Object(E.a)({},e,{structures:(e.structures||[]).concat([t.struc])});case"ACTIVITY_ADDED":return Object(E.a)({},e,{activities:(e.activities||[]).concat([t.act])});case"CONTEXT_ADDED":return Object(E.a)({},e,{contexts:(e.contexts||[]).concat([t.con])});case"DELETE_FUNCTION":return Object(E.a)({},e,{functions:e.functions.filter((function(e){return e.id!==t.functionId})),errors:t.error?t.payload.errors:null});case"DELETE_STRUCTURE":return Object(E.a)({},e,{structures:e.structures.filter((function(e){return e.id!==t.structureId})),errors:t.error?t.payload.errors:null});case"DELETE_ACTIVITY":return Object(E.a)({},e,{activities:e.activities.filter((function(e){return e.id!==t.activityId})),errors:t.error?t.payload.errors:null});case"DELETE_CONTEXT":return Object(E.a)({},e,{contexts:e.contexts.filter((function(e){return e.id!==t.contextId})),errors:t.error?t.payload.errors:null});case"UPDATE_FIELD_FUNCTION":return Object(E.a)({},e,{functions:e.functions.map((function(e){return e.id===t.functionId&&(e.isDirty=!0,e[t.key]=t.value),e}))});case"UPDATE_FIELD_STRUCTURE":return Object(E.a)({},e,{structures:e.structures.map((function(e){return e.id===t.structureId&&(e.isDirty=!0,e[t.key]=t.value),e}))});case"UPDATE_FIELD_ACTIVITY":return Object(E.a)({},e,{activities:e.activities.map((function(e){return e.id===t.activityId&&(e.isDirty=!0,e[t.key]=t.value),e}))});case"UPDATE_FIELD_CONTEXT":return Object(E.a)({},e,{contexts:e.contexts.map((function(e){return e.id===t.contextId&&(e.isDirty=!0,e[t.key]=t.value),e}))});case"UPDATE_FIELD_FUNCTION_VALUE":return Object(E.a)({},e,{functions:e.functions.map((function(e){return e.id===t.functionId&&(e.isDirty=!0,e.value[t.key]=t.value),e}))});case"UPDATE_FIELD_STRUCTURE_VALUE":return Object(E.a)({},e,{structures:e.structures.map((function(e){return e.id===t.structureId&&(e.isDirty=!0,e.value[t.key]=t.value),e}))});case"UPDATE_FIELD_ACTIVITY_VALUE":return Object(E.a)({},e,{activities:e.activities.map((function(e){return e.id===t.activityId&&(e.isDirty=!0,e.value[t.key]=t.value),e}))});case"UPDATE_FIELD_CONTEXT_VALUE":return Object(E.a)({},e,{contexts:e.contexts.map((function(e){return e.id===t.contextId&&(e.isDirty=!0,e.value[t.key]=t.value),e}))});default:return e}return e},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITOR_SIDENAV_LOADED":return Object(E.a)({},e);case"EDITOR_SIDENAV_UNLOADED":return{};default:return e}},_=a(45),U=function(e){return Object(l.combineReducers)({auth:v,common:g,home:b,settings:k,code:C,codeForm:O,editor:D,editorSideNav:N,router:Object(_.b)(e)})},j=a(96),A=a(29),w=Object(A.a)({basename:"/ICF_Report_Webapp_React"}),x=Object(j.a)(w),P=Object(l.createStore)(U(w),Object(s.composeWithDevTools)(Object(l.applyMiddleware)(x,d,m))),F=(a(150),a(151),a(152),a(33)),S=a(10),R=a(11),L=a(13),Y=a(12),G=a(14),V=(a(153),a(24)),M=a(25),B=a(221),H=a(248),X=a(249),W=a(222),q=a(223),J=a(224),z=a(225),K=a(124),Q=a.n(K),Z=a(27),$=function(e){return e.currentUser?null:r.a.createElement("ul",{className:"ml-auto navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(M.a,{to:"/",className:"nav-link"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(M.a,{to:"/login",className:"nav-link"},"Sign in")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(M.a,{to:"/register",className:"nav-link"},"Sign up")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"https://loaded02.github.io/ICF_Report_Webapp_Blog/",target:"_blank",rel:"noopener noreferrer"},"Blog")))},ee=function(e){return e.currentUser?r.a.createElement("ul",{className:"ml-auto navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(M.a,{to:"/",className:"nav-link"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(M.a,{to:"/editor",className:"nav-link"},"New Report")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(M.a,{to:"/code",className:"nav-link"},"Codes")),r.a.createElement(B.a,null,r.a.createElement(H.a,{nav:!0,caret:!0},e.currentUser.username),r.a.createElement(X.a,null,r.a.createElement(W.a,{onClick:e.goToSettings},"Settings"),r.a.createElement(W.a,{divider:!0}),r.a.createElement(W.a,{onClick:e.onClickLogout},"Logout"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"https://loaded02.github.io/ICF_Report_Webapp_Blog/",target:"_blank",rel:"noopener noreferrer"},"Blog"))):null},te=function(e){function t(e){var a;return Object(S.a)(this,t),(a=Object(L.a)(this,Object(Y.a)(t).call(this,e))).toggle=a.toggle.bind(Object(V.a)(a)),a.state={isOpen:!1},a}return Object(G.a)(t,e),Object(R.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"goToSettings",value:function(){P.dispatch(Object(Z.d)("/settings"))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(q.a,{color:"dark",dark:!0,expand:"md"},r.a.createElement(M.a,{to:"/",className:"navbar-brand mr-auto"},r.a.createElement("img",{src:Q.a,className:"App-logo",alt:"logo"})," ",this.props.appName.toUpperCase()),r.a.createElement(J.a,{onClick:this.toggle,className:"mr-2"}),r.a.createElement(z.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement($,{currentUser:this.props.currentUser}),r.a.createElement(ee,{currentUser:this.props.currentUser,goToSettings:this.goToSettings,onClickLogout:this.props.onClickLogout}))))}}]),t}(n.Component),ae=Object(i.c)((function(){return{}}),(function(e){return{onClickLogout:function(){return e({type:"LOGOUT"})}}}))(te),ne=function(e){function t(){return Object(S.a)(this,t),Object(L.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(G.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container main"},r.a.createElement("h1",null,"No matching route for the given URL."))}}]),t}(n.Component),re=Object(i.c)((function(){return{}}),(function(){return{}}))(ne),ce=a(227),oe=Object(i.c)((function(){return{}}),(function(e){return{onClick:function(t,a){return e({type:"DELETE_REPORT",payload:t,reportId:a})}}}))((function(e){return r.a.createElement(W.a,{onClick:function(t){return function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation();var a=u.a.Report.remove(e.reportId);e.onClick(a,e.reportId)}(t)}},"Remove")})),ie=a(226),le=function(e){var t="",a=e.header["content-disposition"];if(a&&-1!==a.indexOf("attachment")){var n=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(a);null!=n&&n[1]&&(t=n[1].replace(/['"]/g,""))}var r=new Blob([e.body],{type:e.type});if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(r,t);else{var c=window.URL||window.webkitURL,o=c.createObjectURL(r);if(t){var i=document.createElement("a");"undefined"===typeof i.download?window.open(o,"_blank"):(i.href=o,i.download=t,document.body.appendChild(i),i.setAttribute("target","_blank"),i.click())}else window.open(o,"_blank");setTimeout((function(){c.revokeObjectURL(o)}),100)}},se=function(e){function t(e){var a;return Object(S.a)(this,t),(a=Object(L.a)(this,Object(Y.a)(t).call(this,e))).toggle=a.toggle.bind(Object(V.a)(a)),a.state={dropdownOpen:!1},a.downloadPdf=function(e,t){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),u.a.Report.getPdfFromDB(t).then((function(e){return le(e)}))},a}return Object(G.a)(t,e),Object(R.a)(t,[{key:"toggle",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"openEditor",value:function(){P.dispatch(Object(Z.d)("/editor/".concat(this.props.report.id)))}},{key:"render",value:function(){var e=this;return r.a.createElement(ie.a,{isOpen:this.state.dropdownOpen,toggle:this.toggle},r.a.createElement(H.a,{caret:!0,color:"success"},"Actions"),r.a.createElement(X.a,null,r.a.createElement(W.a,{onClick:this.openEditor.bind(this)},"Create Report"),r.a.createElement(W.a,{onClick:function(t){return e.downloadPdf(t,e.props.report.id)}},"Create Plain PDF"),r.a.createElement(W.a,{divider:!0}),r.a.createElement(oe,{reportId:this.props.report.id})))}}]),t}(n.Component),ue=Object(i.c)((function(e){return Object(E.a)({},e.home)}),(function(){return{}}))(se),pe=function(e){return e.error?(console.log(e.error),r.a.createElement("div",null,"Error ",e.error)):e.reports?0===e.reports.length?r.a.createElement("div",{className:"report-preview"},"No reports are here... yet."):r.a.createElement(ce.a,null,e.reports.map((function(e){return r.a.createElement("div",{className:"list-group-item list-group-item-action flex-column align-items-start",key:e.id},r.a.createElement("div",{className:"d-flex w-100 justify-content-between"},r.a.createElement("h5",{className:"mb-1"},e.type)),r.a.createElement("div",{className:"d-flex w-100 justify-content-between"},r.a.createElement("p",{className:"mb-1"},T()(e.date).isValid()?T()(e.date).format("DD.MM.YYYY"):""),r.a.createElement("div",{className:"mb-1"},r.a.createElement(ue,{report:e}))))}))):r.a.createElement("div",{className:"report-preview"},"Loading...")},de=a(128),me=a(228),he=a(229),Ee=a(125),fe=a(230),ve=a(231),ye=a(232),ge=(a(171),[{id:1,altText:"Slide 1",caption:"Bruce T.",text:"Physiotherapist",quote:"Life is so much better now! Really."},{id:2,altText:"Slide 2",caption:"Claudia S.",text:"Occupational Therapist",quote:"It`s fun!"},{id:3,altText:"Slide 3",caption:"Michael T.",text:"Osteopath",quote:"I use it every day!"}]),be=function(e){function t(e){var a;return Object(S.a)(this,t),(a=Object(L.a)(this,Object(Y.a)(t).call(this,e))).state={activeIndex:0},a.next=a.next.bind(Object(V.a)(a)),a.previous=a.previous.bind(Object(V.a)(a)),a.goToIndex=a.goToIndex.bind(Object(V.a)(a)),a.onExiting=a.onExiting.bind(Object(V.a)(a)),a.onExited=a.onExited.bind(Object(V.a)(a)),a}return Object(G.a)(t,e),Object(R.a)(t,[{key:"onExiting",value:function(){this.animating=!0}},{key:"onExited",value:function(){this.animating=!1}},{key:"next",value:function(){if(!this.animating){var e=this.state.activeIndex===ge.length-1?0:this.state.activeIndex+1;this.setState({activeIndex:e})}}},{key:"previous",value:function(){if(!this.animating){var e=0===this.state.activeIndex?ge.length-1:this.state.activeIndex-1;this.setState({activeIndex:e})}}},{key:"goToIndex",value:function(e){this.animating||this.setState({activeIndex:e})}},{key:"goToRegister",value:function(){P.dispatch(Object(Z.d)("/register"))}},{key:"render",value:function(){var e=this,t=this.state.activeIndex,a=ge.map((function(t){return r.a.createElement(de.a,{onExiting:e.onExiting,onExited:e.onExited,key:t.id,src:""},r.a.createElement("div",{className:"custom-tag"},'"',t.quote,'"'),r.a.createElement(me.a,{captionText:t.text,captionHeader:t.caption}))}));return r.a.createElement("div",{className:"container main"},r.a.createElement(he.a,null,r.a.createElement("h1",{className:"display-3"},"Create your ICF-Report!"),r.a.createElement("p",{className:"lead"},"Manage patients, reports and ICF-Core-Sets. Save your report online or generate a Pdf. Make ICF documentation part of your daily work as a therapist - Become more professional."),r.a.createElement("hr",{className:"my-2"}),r.a.createElement("p",null,"No sensitive data has to be saved on the server."),r.a.createElement("p",{className:"lead"},r.a.createElement(Ee.a,{color:"primary",onClick:this.goToRegister},"Sign up"))),r.a.createElement(fe.a,{activeIndex:t,next:this.next,previous:this.previous},r.a.createElement(ve.a,{items:ge,activeIndex:t,onClickHandler:this.goToIndex}),a,r.a.createElement(ye.a,{direction:"prev",directionText:"Previous",onClickHandler:this.previous}),r.a.createElement(ye.a,{direction:"next",directionText:"Next",onClickHandler:this.next})))}}]),t}(n.Component),ke=Object(i.c)((function(){return{}}),(function(){return{}}))(be),Ce=a(233),Oe=function(e){function t(){return Object(S.a)(this,t),Object(L.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(G.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this.props.errors;return e?r.a.createElement("div",null,Object.keys(e).map((function(t){return r.a.createElement(Ce.a,{color:"danger",key:t},t," - ",e[t])}))):null}}]),t}(r.a.Component),Ie=function(e){function t(){return Object(S.a)(this,t),Object(L.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(G.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.props.onLoad(Promise.all([u.a.Report.all()]))}},{key:"componentWillUnmount",value:function(){this.props.onUnload()}},{key:"render",value:function(){return this.props.currentUser?r.a.createElement("div",{className:"container main"},r.a.createElement("h1",null,"Your ICF Core Sets"),r.a.createElement(Oe,{errors:this.props.errors}),r.a.createElement(pe,{reports:this.props.reports,error:this.props.error})):r.a.createElement(ke,null)}}]),t}(n.Component),Te=Object(i.c)((function(e){return{reports:e.home.reports,currentUser:e.common.currentUser,errors:e.home.errors}}),(function(e){return{onLoad:function(t){return e({type:"HOME_PAGE_LOADED",payload:t})},onUnload:function(){return e({type:"HOME_PAGE_UNLOADED"})}}}))(Ie),De=a(129),Ne=a(234),_e=a(235),Ue=a(236),je=a(237),Ae=a(238),we=function(e){function t(){var e;return Object(S.a)(this,t),(e=Object(L.a)(this,Object(Y.a)(t).call(this))).changeEmail=function(t){return e.props.onChangeEmail(t.target.value)},e.changePassword=function(t){return e.props.onChangePassword(t.target.value)},e.submitForm=function(t,a){return function(n){n.preventDefault(),e.props.onSubmit(t,a)}},e}return Object(G.a)(t,e),Object(R.a)(t,[{key:"componentWillUnmount",value:function(){this.props.onUnload()}},{key:"render",value:function(){if(this.props.redirectToHome)return r.a.createElement(F.a,{to:"/"});var e=this.props.email,t=this.props.password;return r.a.createElement("div",{className:"container main"},r.a.createElement(De.a,{color:"dark"},r.a.createElement(M.a,{to:"/register",className:"alert-link"},"Need an account?")),r.a.createElement(Oe,{errors:this.props.errors}),r.a.createElement(Ne.a,{onSubmit:this.submitForm(e,t)},r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"email",sm:2},"Email"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"email",name:"email",id:"email",placeholder:"Email",value:e,onChange:this.changeEmail}))),r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"password",sm:2},"Password"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"password",name:"password",id:"password",placeholder:"Password",value:t,onChange:this.changePassword}))),r.a.createElement(_e.a,{check:!0,row:!0},r.a.createElement(je.a,{sm:{size:10,offset:2}},r.a.createElement(Ee.a,{type:"submit",disabled:this.props.inProgress},"Sign in")))))}}]),t}(n.Component),xe=Object(i.c)((function(e){return Object(E.a)({},e.auth)}),(function(e){return{onChangeEmail:function(t){return e({type:"UPDATE_FIELD_AUTH",key:"email",value:t})},onChangePassword:function(t){return e({type:"UPDATE_FIELD_AUTH",key:"password",value:t})},onSubmit:function(t,a){return e({type:p,payload:u.a.Auth.login(t,a)})},onUnload:function(){return e({type:"LOGIN_PAGE_UNLOADED"})}}}))(we),Pe=function(e){function t(){var e;return Object(S.a)(this,t),(e=Object(L.a)(this,Object(Y.a)(t).call(this))).changeEmail=function(t){return e.props.onChangeEmail(t.target.value)},e.changePassword=function(t){return e.props.onChangePassword(t.target.value)},e.changeUsername=function(t){return e.props.onChangeUsername(t.target.value)},e.changeFirstname=function(t){return e.props.onChangeFirstname(t.target.value)},e.changeLastname=function(t){return e.props.onChangeLastname(t.target.value)},e.submitForm=function(t,a,n,r,c){return function(o){o.preventDefault(),e.props.onSubmit(t,a,n,r,c)}},e}return Object(G.a)(t,e),Object(R.a)(t,[{key:"componentWillUnmount",value:function(){this.props.onUnload()}},{key:"render",value:function(){if(this.props.redirectToHome)return r.a.createElement(F.a,{to:"/"});var e=this.props.email,t=this.props.password,a=this.props.username,n=this.props.firstname,c=this.props.lastname;return r.a.createElement("div",{className:"container main"},r.a.createElement(De.a,{color:"dark"},r.a.createElement(M.a,{to:"login",className:"alert-link"},"Already have an account?")),r.a.createElement(Oe,{errors:this.props.errors}),r.a.createElement(Ne.a,{onSubmit:this.submitForm(a,e,t,n,c)},r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"firstName",sm:2},"Firstname"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"text",name:"firsName",id:"firstName",placeholder:"Firstname",value:this.props.firstname,onChange:this.changeFirstname}))),r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"lastName",sm:2},"Lastname"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"text",name:"lastName",id:"lastName",placeholder:"Lastname",value:this.props.lastname,onChange:this.changeLastname}))),r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"userName",sm:2},"Username *"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"text",name:"userName",id:"userName",placeholder:"Username",value:this.props.username,required:!0,onChange:this.changeUsername}))),r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"email",sm:2},"Email *"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"email",name:"email",id:"email",placeholder:"Email",value:this.props.email,required:!0,onChange:this.changeEmail}))),r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"password",sm:2},"Password *"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"password",name:"password",id:"password",placeholder:"Password",value:this.props.password,required:!0,onChange:this.changePassword}))),r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"password",sm:2},"Retype Password"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"password",name:"re-password",id:"re-password",placeholder:"Password",disabled:!0}))),r.a.createElement(_e.a,{check:!0,row:!0},r.a.createElement(je.a,{sm:{size:10,offset:2}},r.a.createElement(Ee.a,{type:"submit",disabled:this.props.inProgress},"Sign up")))))}}]),t}(n.Component),Fe=Object(i.c)((function(e){return Object(E.a)({},e.auth)}),(function(e){return{onChangeEmail:function(t){return e({type:"UPDATE_FIELD_AUTH",key:"email",value:t})},onChangePassword:function(t){return e({type:"UPDATE_FIELD_AUTH",key:"password",value:t})},onChangeUsername:function(t){return e({type:"UPDATE_FIELD_AUTH",key:"username",value:t})},onChangeFirstname:function(t){return e({type:"UPDATE_FIELD_AUTH",key:"firstname",value:t})},onChangeLastname:function(t){return e({type:"UPDATE_FIELD_AUTH",key:"lastname",value:t})},onSubmit:function(t,a,n,r,c){var o=u.a.Auth.register(t,a,n,r,c);e({type:"REGISTER",payload:o})},onUnload:function(){return e({type:"REGISTER_PAGE_UNLOADED"})}}}))(Pe),Se=a(239),Re=a(76),Le=a.n(Re),Ye=a(77),Ge=(a(216),a(217),a(92)),Ve=a.n(Ge),Me="1.0.0",Be=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(L.a)(this,(e=Object(Y.a)(t)).call.apply(e,[this].concat(r)))).submitForm=function(e){if(!a.props.inProgress){e.preventDefault();var t={type:a.props.type,patientId:a.props.patientId,therapistId:a.props.therapistId,date:a.props.date&&T()(a.props.date).isValid()?T()(a.props.date).format("YYYY-MM-DD"):null,freeText:a.props.freeText},n=a.hasReport?u.a.Report.update(t,a.props.reportId):u.a.Report.create(t);a.props.onSubmit(n)}},a.createPdf=function(e){e.preventDefault();var t={type:a.props.type,patient:{dob:a.props.patient.dob&&T()(a.props.patient.dob).isValid()?T()(a.props.patient.dob).format("YYYY-MM-DD"):null,name:a.props.patient.name,surname:a.props.patient.surname,diagnosis:a.props.patient.diagnosis},therapist:a.props.therapist,date:a.props.date&&T()(a.props.date).isValid()?T()(a.props.date).format("YYYY-MM-DD"):null,freeText:a.props.freeText,functions:a.props.functions.map((function(e){return Object(E.a)({},e,{code:a.props.codes.find((function(t){return t.id===e.codeId}))})})),structures:a.props.structures.map((function(e){return Object(E.a)({},e,{code:a.props.codes.find((function(t){return t.id===e.codeId}))})})),activities:a.props.activities.map((function(e){return Object(E.a)({},e,{code:a.props.codes.find((function(t){return t.id===e.codeId}))})})),contexts:a.props.contexts.map((function(e){return Object(E.a)({},e,{code:a.props.codes.find((function(t){return t.id===e.codeId}))})}))};u.a.Report.getPdf(t).then((function(e){return le(e)}))},a.dump=function(e){e.preventDefault();var t={type:a.props.type,patient:{dob:a.props.patient.dob&&T()(a.props.patient.dob).isValid()?T()(a.props.patient.dob).format("YYYY-MM-DD"):null,name:a.props.patient.name,surname:a.props.patient.surname,diagnosis:a.props.patient.diagnosis},therapist:a.props.therapist,date:a.props.date&&T()(a.props.date).isValid()?T()(a.props.date).format("YYYY-MM-DD"):null,freeText:a.props.freeText,functions:a.props.functions.map((function(e){return Object(E.a)({},e,{code:a.props.codes.find((function(t){return t.id===e.codeId}))})})),structures:a.props.structures.map((function(e){return Object(E.a)({},e,{code:a.props.codes.find((function(t){return t.id===e.codeId}))})})),activities:a.props.activities.map((function(e){return Object(E.a)({},e,{code:a.props.codes.find((function(t){return t.id===e.codeId}))})})),contexts:a.props.contexts.map((function(e){return Object(E.a)({},e,{code:a.props.codes.find((function(t){return t.id===e.codeId}))})}))};t.hash=Ve()(JSON.stringify(t)),t.version=Me;var n=document.createElement("a");document.body.appendChild(n),n.style="display: none";var r=JSON.stringify(t),c=new Blob([r],{type:"application/json"}),o=window.URL.createObjectURL(c);n.href=o,n.download="".concat(t.patient.surname,"_").concat((new Date).getTime(),".json"),n.click(),window.URL.revokeObjectURL(o),a.props.onUnload()},a.upload=function(e){e.preventDefault();var t=e.target.files;if(t[0]){var n=t[0];if(!n.type.match("application/json"))return;var r=new FileReader;r.onload=function(e){var t=JSON.parse(e.target.result),n=t.hash;delete t.hash;var r=t.version;delete t.version,Ve()(JSON.stringify(t))!==n?alert("Report has been tampered with!"):Me!==r?alert("Report Format is from another version!"):a.props.onUploadReport(t)},r.readAsText(n,"UTF-8")}},a}return Object(G.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.props.onLoad({})}},{key:"componentWillUnmount",value:function(){this.props.onUnload()}},{key:"render",value:function(){return r.a.createElement("div",{className:"sidenav"},r.a.createElement("button",{onClick:this.submitForm.bind(this),title:"Save ICF Core Set on Server"},r.a.createElement("i",{className:"fa fa-floppy-o","aria-hidden":"true"})),r.a.createElement("button",{onClick:this.createPdf.bind(this),title:"Create PDF"},r.a.createElement("i",{className:"fa fa-file-pdf-o","aria-hidden":"true"})),r.a.createElement("button",{onClick:this.dump.bind(this),title:"Download Report"},r.a.createElement("i",{className:"fa fa-download","aria-hidden":"true"})),r.a.createElement("label",{htmlFor:"fileInput",title:"Upload Report",className:"custom-file-upload"},r.a.createElement("i",{className:"fa fa-upload","aria-hidden":"true"})),r.a.createElement("input",{type:"file",id:"fileInput",onChange:this.upload.bind(this)}))}},{key:"hasReport",get:function(){return this.props.reportId&&""!==this.props.reportId}}]),t}(n.Component),He=Object(i.c)((function(e){return Object(E.a)({},e.editor,{},e.editorSideNav)}),(function(e){return{onLoad:function(t){return e({type:"EDITOR_SIDENAV_LOADED",payload:t})},onUnload:function(){return e({type:"EDITOR_SIDENAV_UNLOADED"})},onSubmit:function(t){return e({type:"REPORT_SUBMITTED",payload:t})},onUploadReport:function(t){return e({type:"REPORT_UPLOADED",payload:t})}}}))(Be),Xe=a(130),We=a(240),qe=a(241),Je=function(e){function t(){var e;return Object(S.a)(this,t),(e=Object(L.a)(this,Object(Y.a)(t).call(this))).handleValueChange=function(t){var a=Number(t.target.value);e.props.onUpdateFieldFunctionValue("value",a,e.props.funcId)},e}return Object(G.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return r.a.createElement(_e.a,{tag:"fieldset",className:"col-md-6"},r.a.createElement(Se.a,{noGutters:!0},r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"severity_".concat(this.props.funcId),value:0,checked:0===this.props.value.value,onChange:this.handleValueChange})," ","0"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"severity_".concat(this.props.funcId),value:1,checked:1===this.props.value.value,onChange:this.handleValueChange})," ","1"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"severity_".concat(this.props.funcId),value:2,checked:2===this.props.value.value,onChange:this.handleValueChange})," ","2"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"severity_".concat(this.props.funcId),value:3,checked:3===this.props.value.value,onChange:this.handleValueChange})," ","3"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"severity_".concat(this.props.funcId),value:4,checked:4===this.props.value.value,onChange:this.handleValueChange})," ","4"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"severity_".concat(this.props.funcId),value:8,checked:8===this.props.value.value,onChange:this.handleValueChange})," ","8"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"severity_".concat(this.props.funcId),value:9,checked:9===this.props.value.value,onChange:this.handleValueChange})," ","9")))))}}]),t}(n.Component),ze=Object(i.c)((function(e){return Object(E.a)({},e,{},e.editor)}),(function(e){return{onUpdateFieldFunctionValue:function(t,a,n){return e({type:"UPDATE_FIELD_FUNCTION_VALUE",key:t,value:a,functionId:n})}}}))(Je),Ke=function(e){function t(){var e;Object(S.a)(this,t);var a=function(t){return function(a){return e.props.onUpdateFieldStructureValue(t,Number(a.target.value),e.props.funcId)}};return(e=Object(L.a)(this,Object(Y.a)(t).call(this))).changeExtend=a("extend"),e.changeNature=a("nature"),e.changeLocation=a("location"),e}return Object(G.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return r.a.createElement(_e.a,{tag:"fieldset",className:"col-md-6"},r.a.createElement(Se.a,{noGutters:!0},r.a.createElement(je.a,null,r.a.createElement("legend",null,"Extend\xa0")),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"extend_".concat(this.props.funcId),value:0,checked:0===this.props.value.extend,onChange:this.changeExtend})," ","0"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"extend_".concat(this.props.funcId),value:1,checked:1===this.props.value.extend,onChange:this.changeExtend})," ","1"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"extend_".concat(this.props.funcId),value:2,checked:2===this.props.value.extend,onChange:this.changeExtend})," ","2"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"extend_".concat(this.props.funcId),value:3,checked:3===this.props.value.extend,onChange:this.changeExtend})," ","3"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"extend_".concat(this.props.funcId),value:4,checked:4===this.props.value.extend,onChange:this.changeExtend})," ","4"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"extend_".concat(this.props.funcId),value:8,checked:8===this.props.value.extend,onChange:this.changeExtend})," ","8"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"extend_".concat(this.props.funcId),value:9,checked:9===this.props.value.extend,onChange:this.changeExtend})," ","9")))),r.a.createElement(Se.a,{noGutters:!0},r.a.createElement(je.a,null,r.a.createElement("legend",null,"Nature\xa0")),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"nature_".concat(this.props.funcId),value:0,checked:0===this.props.value.nature,onChange:this.changeNature})," ","0"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"nature_".concat(this.props.funcId),value:1,checked:1===this.props.value.nature,onChange:this.changeNature})," ","1"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"nature_".concat(this.props.funcId),value:2,checked:2===this.props.value.nature,onChange:this.changeNature})," ","2"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"nature_".concat(this.props.funcId),value:3,checked:3===this.props.value.nature,onChange:this.changeNature})," ","3"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"nature_".concat(this.props.funcId),value:4,checked:4===this.props.value.nature,onChange:this.changeNature})," ","4"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"nature_".concat(this.props.funcId),value:5,checked:5===this.props.value.nature,onChange:this.changeNature})," ","5"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"nature_".concat(this.props.funcId),value:6,checked:6===this.props.value.nature,onChange:this.changeNature})," ","6"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"nature_".concat(this.props.funcId),value:7,checked:7===this.props.value.nature,onChange:this.changeNature})," ","7"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"nature_".concat(this.props.funcId),value:8,checked:8===this.props.value.nature,onChange:this.changeNature})," ","8"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"nature_".concat(this.props.funcId),value:9,checked:9===this.props.value.nature,onChange:this.changeNature})," ","9")))),r.a.createElement(Se.a,{noGutters:!0},r.a.createElement(je.a,null,r.a.createElement("legend",null,"Location\xa0")),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"location_".concat(this.props.funcId),value:0,checked:0===this.props.value.location,onChange:this.changeLocation})," ","0"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"location_".concat(this.props.funcId),value:1,checked:1===this.props.value.location,onChange:this.changeLocation})," ","1"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"location_".concat(this.props.funcId),value:2,checked:2===this.props.value.location,onChange:this.changeLocation})," ","2"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"location_".concat(this.props.funcId),value:3,checked:3===this.props.value.location,onChange:this.changeLocation})," ","3"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"location_".concat(this.props.funcId),value:4,checked:4===this.props.value.location,onChange:this.changeLocation})," ","4"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"location_".concat(this.props.funcId),value:5,checked:5===this.props.value.location,onChange:this.changeLocation})," ","5"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"location_".concat(this.props.funcId),value:6,checked:6===this.props.value.location,onChange:this.changeLocation})," ","6"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"location_".concat(this.props.funcId),value:7,checked:7===this.props.value.location,onChange:this.changeLocation})," ","7"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"location_".concat(this.props.funcId),value:8,checked:8===this.props.value.location,onChange:this.changeLocation})," ","8"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"location_".concat(this.props.funcId),value:9,checked:9===this.props.value.location,onChange:this.changeLocation})," ","9")))))}}]),t}(n.Component),Qe=Object(i.c)((function(e){return Object(E.a)({},e,{},e.editor)}),(function(e){return{onUpdateFieldStructureValue:function(t,a,n){return e({type:"UPDATE_FIELD_STRUCTURE_VALUE",key:t,value:a,structureId:n})}}}))(Ke),Ze=function(e){function t(){var e;Object(S.a)(this,t);var a=function(t){return function(a){return e.props.onUpdateFieldActivityValue(t,Number(a.target.value),e.props.funcId)}};return(e=Object(L.a)(this,Object(Y.a)(t).call(this))).changePerformance=a("performance"),e.changeCapacity=a("capacity"),e}return Object(G.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return r.a.createElement(_e.a,{tag:"fieldset",className:"col-md-6"},r.a.createElement(Se.a,{noGutters:!0},r.a.createElement(je.a,null,r.a.createElement("legend",null,"P")),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"performance_".concat(this.props.funcId),value:0,checked:0===this.props.value.performance,onChange:this.changePerformance})," ","0"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"performance_".concat(this.props.funcId),value:1,checked:1===this.props.value.performance,onChange:this.changePerformance})," ","1"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"performance_".concat(this.props.funcId),value:2,checked:2===this.props.value.performance,onChange:this.changePerformance})," ","2"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"performance_".concat(this.props.funcId),value:3,checked:3===this.props.value.performance,onChange:this.changePerformance})," ","3"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"performance_".concat(this.props.funcId),value:4,checked:4===this.props.value.performance,onChange:this.changePerformance})," ","4"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"performance_".concat(this.props.funcId),value:8,checked:8===this.props.value.performance,onChange:this.changePerformance})," ","8"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"performance_".concat(this.props.funcId),value:9,checked:9===this.props.value.performance,onChange:this.changePerformance})," ","9")))),r.a.createElement(Se.a,{noGutters:!0},r.a.createElement(je.a,null,r.a.createElement("legend",null,"C")),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"capacity_".concat(this.props.funcId),value:0,checked:0===this.props.value.capacity,onChange:this.changeCapacity})," ","0"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"capacity_".concat(this.props.funcId),value:1,checked:1===this.props.value.capacity,onChange:this.changeCapacity})," ","1"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"capacity_".concat(this.props.funcId),value:2,checked:2===this.props.value.capacity,onChange:this.changeCapacity})," ","2"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"capacity_".concat(this.props.funcId),value:3,checked:3===this.props.value.capacity,onChange:this.changeCapacity})," ","3"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"capacity_".concat(this.props.funcId),value:4,checked:4===this.props.value.capacity,onChange:this.changeCapacity})," ","4"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"capacity_".concat(this.props.funcId),value:8,checked:8===this.props.value.capacity,onChange:this.changeCapacity})," ","8"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"capacity_".concat(this.props.funcId),value:9,checked:9===this.props.value.capacity,onChange:this.changeCapacity})," ","9")))))}}]),t}(n.Component),$e=Object(i.c)((function(e){return Object(E.a)({},e,{},e.editor)}),(function(e){return{onUpdateFieldActivityValue:function(t,a,n){return e({type:"UPDATE_FIELD_ACTIVITY_VALUE",key:t,value:a,activityId:n})}}}))(Ze),et=function(e){function t(){var e;return Object(S.a)(this,t),(e=Object(L.a)(this,Object(Y.a)(t).call(this))).handleValueChange=function(t){var a=Number(t.target.value);e.props.onUpdateFieldContextValue("value",a,e.props.funcId)},e}return Object(G.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){return r.a.createElement(_e.a,{tag:"fieldset",className:"col-md-6"},r.a.createElement(Se.a,{noGutters:!0},r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"severity_".concat(this.props.funcId),value:4,checked:4===this.props.value.value,onChange:this.handleValueChange}),"+4"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"severity_".concat(this.props.funcId),value:3,checked:3===this.props.value.value,onChange:this.handleValueChange}),"+3"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"severity_".concat(this.props.funcId),value:2,checked:2===this.props.value.value,onChange:this.handleValueChange}),"+2"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"severity_".concat(this.props.funcId),value:1,checked:1===this.props.value.value,onChange:this.handleValueChange}),"+1"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"severity_".concat(this.props.funcId),value:0,checked:0===this.props.value.value,onChange:this.handleValueChange})," ","0"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"severity_".concat(this.props.funcId),value:-1,checked:-1===this.props.value.value,onChange:this.handleValueChange})," ","1"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"severity_".concat(this.props.funcId),value:-2,checked:-2===this.props.value.value,onChange:this.handleValueChange})," ","2"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"severity_".concat(this.props.funcId),value:-3,checked:-3===this.props.value.value,onChange:this.handleValueChange})," ","3"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"severity_".concat(this.props.funcId),value:-4,checked:-4===this.props.value.value,onChange:this.handleValueChange})," ","4"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"severity_".concat(this.props.funcId),value:8,checked:8===this.props.value.value,onChange:this.handleValueChange})," ","8"))),r.a.createElement(je.a,null,r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"radio",name:"severity_".concat(this.props.funcId),value:9,checked:9===this.props.value.value,onChange:this.handleValueChange})," ","9")))))}}]),t}(n.Component),tt=Object(i.c)((function(e){return Object(E.a)({},e,{},e.editor)}),(function(e){return{onUpdateFieldContextValue:function(t,a,n){return e({type:"UPDATE_FIELD_CONTEXT_VALUE",key:t,value:a,contextId:n})}}}))(et),at=0,nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";return at++,"".concat(e).concat(at)},rt=function(e){switch(e.kind){case"FUNCTION":return r.a.createElement(ze,{value:e.value,funcId:e.funcId});case"STRUCTURE":return r.a.createElement(Qe,{value:e.value,funcId:e.funcId});case"ACTIVITY":return r.a.createElement($e,{value:e.value,funcId:e.funcId});case"CONTEXT":return r.a.createElement(tt,{value:e.value,funcId:e.funcId});default:return null}},ct=function(e){function t(){var e;Object(S.a)(this,t),(e=Object(L.a)(this,Object(Y.a)(t).call(this))).getCodeFromId=function(t){var a={title:"Empty  Title",description:"Empty Description"};if(e.props.codes&&e.props.codes.length>0){var n=e.props.codes.find((function(e){return e.id===t}));return void 0!==n?n:a}return a},e.toggleCheckbox=function(t){var a=e.props.func.sourceOfInfo;if(a){var n=a.findIndex((function(e){return e===t.target.value}));switch(-1===n?a.push(t.target.value):a.splice(n,1),e.props.kind){case"FUNCTION":e.props.onUpdateFieldFunction("sourceOfInfo",a,e.props.func.id);break;case"STRUCTURE":e.props.onUpdateFieldStructure("sourceOfInfo",a,e.props.func.id);break;case"ACTIVITY":e.props.onUpdateFieldActivity("sourceOfInfo",a,e.props.func.id);break;case"CONTEXT":e.props.onUpdateFieldContext("sourceOfInfo",a,e.props.func.id)}}},e.isCheckboxChecked=function(t){return!!e.props.func.sourceOfInfo&&void 0!==e.props.func.sourceOfInfo.find((function(e){return e===t}))},e.collapse=function(t){var a="I"===t.target.tagName.toUpperCase()?t.target:t.target.getElementsByTagName("i")[0],n=document.getElementById("detailed--info__".concat(e.props.func.id)).style;a.className.includes("down")?(n.display="block",a.className=a.className.replace("down","up")):(n.display="none",a.className=a.className.replace("up","down"))},e.removeFunction=function(){var t=null;switch(e.props.func.id>=0&&(t=u.a.Function.remove(e.props.reportId,e.props.func.id)),e.props.kind){case"FUNCTION":e.props.onDeleteFunction(t,e.props.func.id);break;case"STRUCTURE":e.props.onDeleteStructure(t,e.props.func.id);break;case"ACTIVITY":e.props.onDeleteActivity(t,e.props.func.id);break;case"CONTEXT":e.props.onDeleteContext(t,e.props.func.id)}};var a=function(t){return function(a){switch(e.props.kind){case"FUNCTION":e.props.onUpdateFieldFunction(t,a.target.value,e.props.func.id);break;case"STRUCTURE":e.props.onUpdateFieldStructure(t,a.target.value,e.props.func.id);break;case"ACTIVITY":e.props.onUpdateFieldActivity(t,a.target.value,e.props.func.id);break;case"CONTEXT":e.props.onUpdateFieldContext(t,a.target.value,e.props.func.id)}}};return e.changeCodeId=a("codeId").bind(Object(V.a)(e)),e.changeDescription=a("description").bind(Object(V.a)(e)),e}return Object(G.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.codeId=nt("code"),this.descriptionId=nt("description")}},{key:"render",value:function(){var e=[r.a.createElement("option",{key:-1,value:null},"Choose...")];return this.props.codes&&e.push.apply(e,Object(Xe.a)(this.props.codes.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.code)})))),r.a.createElement(Se.a,{className:"function--element"},r.a.createElement(je.a,null,r.a.createElement(We.a,{className:"function--card"},r.a.createElement(qe.a,null,r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("button",{type:"button",className:"close",title:"remove","aria-label":"Close",onClick:this.removeFunction.bind(this)},r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true"}))),r.a.createElement(Se.a,{className:"function--value"},r.a.createElement(_e.a,{className:"col-md-2"},r.a.createElement(Ue.a,{for:"code",hidden:!0},"Code"),r.a.createElement(Ae.a,{type:"select",name:"codeId",id:this.codeId,value:this.props.func.codeId,onChange:this.changeCodeId},e)),r.a.createElement("span",{className:"col-md-4"},this.getCodeFromId(this.props.func.codeId).title),r.a.createElement(rt,{kind:this.props.kind,value:this.props.func.value,funcId:this.props.func.id})),r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("button",{type:"button",className:"close",title:"toggle","aria-label":"Close",onClick:this.collapse},r.a.createElement("i",{className:"fa fa-angle-double-down","aria-hidden":"true"}))),r.a.createElement("div",{id:"detailed--info__".concat(this.props.func.id)},r.a.createElement(Se.a,{className:"function--info"},r.a.createElement(je.a,null,r.a.createElement(Se.a,null,r.a.createElement(je.a,null,r.a.createElement("b",null,this.getCodeFromId(this.props.func.codeId).description))),r.a.createElement(Se.a,null,r.a.createElement(je.a,null,"Inclusions, Exclusions tbd")))),r.a.createElement(_e.a,{tag:"fieldset",row:!0,className:"function--sources"},r.a.createElement(je.a,null,r.a.createElement(Se.a,null,r.a.createElement(je.a,null,r.a.createElement("legend",null,"Sources of information"))),r.a.createElement(Se.a,{noGutters:!1},r.a.createElement(je.a,{xs:"auto"},r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"checkbox",value:"Case history",defaultChecked:this.isCheckboxChecked("Case history"),onChange:this.toggleCheckbox})," ","Case history"))),r.a.createElement(je.a,{xs:"auto"},r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"checkbox",value:"Patient reported questionnaire",defaultChecked:this.isCheckboxChecked("Patient reported questionnaire"),onChange:this.toggleCheckbox})," ","Patient reported questionnaire"))),r.a.createElement(je.a,{xs:"auto"},r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"checkbox",value:"Clinical examination",defaultChecked:this.isCheckboxChecked("Clinical examination"),onChange:this.toggleCheckbox})," ","Clinical examination"))),r.a.createElement(je.a,{xs:"auto"},r.a.createElement(_e.a,{check:!0},r.a.createElement(Ue.a,{check:!0},r.a.createElement(Ae.a,{type:"checkbox",value:"Technical investigation",defaultChecked:this.isCheckboxChecked("Technical investigation"),onChange:this.toggleCheckbox})," ","Technical investigation"))))))),r.a.createElement(_e.a,{row:!0,className:"function--description"},r.a.createElement(je.a,null,r.a.createElement(Se.a,null,r.a.createElement(je.a,null,r.a.createElement(Ue.a,{for:"description"},"Description of the problem"))),r.a.createElement(Se.a,null,r.a.createElement(je.a,null,r.a.createElement(Ae.a,{type:"text",name:"description",id:this.descriptionId,placeholder:"Description",value:this.props.func.description,onChange:this.changeDescription})))))))))}}]),t}(n.Component),ot=Object(i.c)((function(e){return Object(E.a)({},e,{},e.editor)}),(function(e){return{onDeleteFunction:function(t,a){return e({type:"DELETE_FUNCTION",payload:t,functionId:a})},onDeleteStructure:function(t,a){return e({type:"DELETE_STRUCTURE",payload:t,structureId:a})},onDeleteActivity:function(t,a){return e({type:"DELETE_ACTIVITY",payload:t,activityId:a})},onDeleteContext:function(t,a){return e({type:"DELETE_CONTEXT",payload:t,contextId:a})},onUpdateFieldFunction:function(t,a,n){return e({type:"UPDATE_FIELD_FUNCTION",key:t,value:a,functionId:n})},onUpdateFieldStructure:function(t,a,n){return e({type:"UPDATE_FIELD_STRUCTURE",key:t,value:a,structureId:n})},onUpdateFieldActivity:function(t,a,n){return e({type:"UPDATE_FIELD_ACTIVITY",key:t,value:a,activityId:n})},onUpdateFieldContext:function(t,a,n){return e({type:"UPDATE_FIELD_CONTEXT",key:t,value:a,contextId:n})}}}))(ct),it=function(e){return e.error?r.a.createElement("div",null,"Error ",e.error):e.functions?0===e.functions.length?r.a.createElement("div",{className:"function-preview"},"No functions are here... yet."):r.a.createElement(ce.a,null,e.functions.map((function(t){return r.a.createElement(ot,{kind:e.kind,key:t.id,func:t})}))):r.a.createElement("div",{className:"function-preview"},"Loading...")},lt=a(242);T.a.locale("de"),Le()();var st=function(e){function t(){var e;Object(S.a)(this,t);var a=function(t){return function(a){return e.props.onUpdateField(t,a.target.value)}};return(e=Object(L.a)(this,Object(Y.a)(t).call(this))).changeName=a("name"),e.changeSurname=a("surname"),e.changeDiagnosis=a("diagnosis"),e.changeDob=function(t){e.props.onUpdateField("dob",t)},e}return Object(G.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.nameId=nt("name"),this.surnameId=nt("surname")}},{key:"render",value:function(){return r.a.createElement(We.a,null,r.a.createElement(lt.a,null,"Patient"),r.a.createElement(qe.a,null,r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"firstName",sm:2},"Name"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"text",name:"name",id:this.nameId,placeholder:"Name",value:this.props.name,onChange:this.changeName}))),r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"surname",sm:2},"Surname"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"text",name:"surname",id:this.surnameId,placeholder:"Surname",value:this.props.surname,onChange:this.changeSurname}))),r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"diagnosis",sm:2},"Diagnosis"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"text",name:"diagnosis",id:"diagnosis",placeholder:"Diagnosis",value:this.props.diagnosis,onChange:this.changeDiagnosis}))),r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"dob",sm:2},"Date of birth"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ye.DateTimePicker,{name:"dob",id:"dob",format:"DD.MM.YYYY",time:!1,value:this.props.dob,onChange:this.changeDob,placeholder:"dd.mm.yyyy"})))))}}]),t}(n.Component),ut=Object(i.c)((function(e){return Object(E.a)({},e.editor.patient)}),(function(e){return{onUpdateField:function(t,a){return e({type:"UPDATE_FIELD_REPORT_PATIENT",key:t,value:a})}}}))(st),pt=function(e){function t(){var e;Object(S.a)(this,t);var a=function(t){return function(a){return e.props.onUpdateField(t,a.target.value)}};return(e=Object(L.a)(this,Object(Y.a)(t).call(this))).changeName=a("name"),e.changeSurname=a("surname"),e.changeCompany=a("company"),e}return Object(G.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.nameId=nt("name"),this.surnameId=nt("surname")}},{key:"render",value:function(){return r.a.createElement(We.a,null,r.a.createElement(lt.a,null,"Therapist"),r.a.createElement(qe.a,null,r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"firstName",sm:2},"Name"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"text",name:"name",id:this.nameId,placeholder:"Name",value:this.props.name,onChange:this.changeName}))),r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"surname",sm:2},"Surname"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"text",name:"surname",id:this.surnameId,placeholder:"Surname",value:this.props.surname,onChange:this.changeSurname}))),r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"company",sm:2},"Company"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"text",name:"company",id:"company",placeholder:"Company",value:this.props.company,onChange:this.changeCompany})))))}}]),t}(n.Component),dt=Object(i.c)((function(e){return Object(E.a)({},e.editor.therapist)}),(function(e){return{onUpdateField:function(t,a){return e({type:"UPDATE_FIELD_REPORT_THERAPIST",key:t,value:a})}}}))(pt);T.a.locale("de"),Le()();var mt=function(e){function t(){var e;Object(S.a)(this,t);var a=function(t){return function(a){return e.props.onUpdateField(t,a.target.value)}};return(e=Object(L.a)(this,Object(Y.a)(t).call(this))).changeType=a("type"),e.changeFreeText=a("freeText"),e.changeDate=function(t){e.props.onUpdateField("date",t)},e.addFunction=function(t){var a={id:-1*Math.floor(1e3*Math.random()+1),code:{id:-1},codeId:-1,description:"",value:{value:NaN,performance:NaN,capacity:NaN,extend:NaN,nature:NaN,location:NaN},sourceOfInfo:[],kind:t};switch(t){case"FUNCTION":e.props.onAddFunction(a);break;case"STRUCTURE":e.props.onAddStructure(a);break;case"ACTIVITY":e.props.onAddActivity(a);break;case"CONTEXT":e.props.onAddContext(a)}},e}return Object(G.a)(t,e),Object(R.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.newReport&&(this.props.functions.forEach((function(e){t.updateFunctions(t.props.newReport.id,e)})),this.props.structures.forEach((function(e){t.updateFunctions(t.props.newReport.id,e)})),this.props.activities.forEach((function(e){t.updateFunctions(t.props.newReport.id,e)})),this.props.contexts.forEach((function(e){t.updateFunctions(t.props.newReport.id,e)}))),e.match.params.id!==this.props.match.params.id){var a=[u.a.Code.all()];this.props.match.params.id&&a.push(u.a.Report.get(this.props.match.params.id)),this.props.onUnload(),this.props.onLoad(Promise.all(a))}}},{key:"updateFunctions",value:function(e,t){t.id<=0?this.props.onSubmitFunction(u.a.Function.create(e,t)):t.hasOwnProperty("isDirty")&&t.isDirty&&this.props.onSubmitFunction(u.a.Function.update(e,t,t.id))}},{key:"componentDidMount",value:function(){var e=[u.a.Code.all()];this.props.match.params.id&&(e.push(u.a.Report.get(this.props.match.params.id)),e.push(u.a.Function.all(this.props.match.params.id,"FUNCTION")),e.push(u.a.Function.all(this.props.match.params.id,"STRUCTURE")),e.push(u.a.Function.all(this.props.match.params.id,"ACTIVITY")),e.push(u.a.Function.all(this.props.match.params.id,"CONTEXT"))),this.props.onLoad(Promise.all(e))}},{key:"componentWillUnmount",value:function(){this.props.onUnload()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container main"},r.a.createElement(He,null),r.a.createElement("h1",null,this.hasReport?"Update Report":"Create A New Report"),r.a.createElement(Ne.a,{className:"reportForm"},r.a.createElement(Oe,{errors:this.props.errors}),r.a.createElement(Oe,{errors:this.props.sideNav.errors}),r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"type",sm:2},"Type"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"text",name:"type",id:"type",placeholder:"Type",value:this.props.type,onChange:this.changeType}))),r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"date",sm:2},"Date"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ye.DateTimePicker,{name:"date",id:"date",format:"DD.MM.YYYY",time:!1,placeholder:"dd.mm.yyyy",value:this.props.date,onChange:this.changeDate}))),r.a.createElement(ut,{row:!0}),r.a.createElement(dt,{row:!0}),r.a.createElement("hr",null),r.a.createElement("section",null,r.a.createElement(Se.a,{className:"justify-content-between function--heading"},r.a.createElement("h5",null,"Body Functions"),r.a.createElement("button",{type:"button",className:"close",title:"add","aria-label":"Add",onClick:function(){return e.addFunction("FUNCTION")}},r.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"}))),r.a.createElement(it,{functions:this.props.functions,kind:"FUNCTION"})),r.a.createElement("section",null,r.a.createElement(Se.a,{className:"justify-content-between function--heading"},r.a.createElement("h5",null,"Body Structures"),r.a.createElement("button",{type:"button",className:"close",title:"add","aria-label":"Add",onClick:function(){return e.addFunction("STRUCTURE")}},r.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"}))),r.a.createElement(it,{functions:this.props.structures,kind:"STRUCTURE"})),r.a.createElement("section",null,r.a.createElement(Se.a,{className:"justify-content-between function--heading"},r.a.createElement("h5",null,"Activities and Participation"),r.a.createElement("button",{type:"button",className:"close",title:"add","aria-label":"Add",onClick:function(){return e.addFunction("ACTIVITY")}},r.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"}))),r.a.createElement(it,{functions:this.props.activities,kind:"ACTIVITY"})),r.a.createElement("section",null,r.a.createElement(Se.a,{className:"justify-content-between function--heading"},r.a.createElement("h5",null,"Context Factors"),r.a.createElement("button",{type:"button",className:"close",title:"add","aria-label":"Add",onClick:function(){return e.addFunction("CONTEXT")}},r.a.createElement("i",{className:"fa fa-plus","aria-hidden":"true"}))),r.a.createElement(it,{functions:this.props.contexts,kind:"CONTEXT"})),r.a.createElement("hr",null),r.a.createElement(_e.a,{row:!0,className:"editor--freetext"},r.a.createElement(Ue.a,{for:"freeText",sm:2},"Free Text"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"textarea",name:"freeText",id:"freeText",placeholder:"Further description...",value:this.props.freeText,onChange:this.changeFreeText})))))}},{key:"hasReport",get:function(){return this.props.reportId&&-1!==this.props.reportId}}]),t}(n.Component),ht=Object(i.c)((function(e){return Object(E.a)({},e.editor,{sideNav:e.editorSideNav})}),(function(e){return{onLoad:function(t){return e({type:"EDITOR_PAGE_LOADED",payload:t})},onUnload:function(){return e({type:"EDITOR_PAGE_UNLOADED"})},onUpdateField:function(t,a){return e({type:"UPDATE_FIELD_REPORT",key:t,value:a})},onSubmitFunction:function(t){return e({type:"FUNCTION_SUBMITTED",payload:t})},onAddFunction:function(t){return e({type:"FUNCTION_ADDED",func:t})},onAddStructure:function(t){return e({type:"STRUCTURE_ADDED",struc:t})},onAddActivity:function(t){return e({type:"ACTIVITY_ADDED",act:t})},onAddContext:function(t){return e({type:"CONTEXT_ADDED",con:t})}}}))(mt),Et=function(e){function t(){var e;return Object(S.a)(this,t),(e=Object(L.a)(this,Object(Y.a)(t).call(this))).submitForm=function(t){t.preventDefault(),e.props.onSubmitForm(u.a.Auth.save(e.state.newUser))},e.state={newUser:{firstname:"",lastname:"",username:"",email:""}},e.updateState=function(t){var a=e.state.newUser;Object.assign(a,Object(h.a)({},t.target.name,t.target.value)),e.setState({newUser:a})},e.submitForm.bind(Object(V.a)(e)),e}return Object(G.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.setState({newUser:{firstname:this.props.currentUser.firstname||"",lastname:this.props.currentUser.lastname||"",username:this.props.currentUser.username||"",email:this.props.currentUser.email||""}})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container main"},r.a.createElement("h1",null,"Your Settings"),r.a.createElement(Oe,{errors:this.props.errors}),r.a.createElement(Ne.a,{onSubmit:this.submitForm,className:"form--settings"},r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"firstName",sm:2},"Firstname"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"text",name:"firstname",id:"firstName",placeholder:"Firstname",value:this.state.newUser.firstname,onChange:this.updateState}))),r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"lastName",sm:2},"Lastname"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"text",name:"lastname",value:this.state.newUser.lastname,onChange:this.updateState,id:"lastName",placeholder:"Lastname"}))),r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"userName",sm:2},"Username"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"text",name:"username",value:this.state.newUser.username,onChange:this.updateState,id:"userName",placeholder:"Username"}))),r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"email",sm:2},"Email"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"email",name:"email",value:this.state.newUser.email,onChange:this.updateState,id:"email",placeholder:"Email"}))),r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"password",sm:2},"New Password"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"password",name:"password",id:"password",placeholder:"Password",disabled:!0}))),r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"password",sm:2},"Retype Password"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"password",name:"re-password",id:"re-password",placeholder:"Password",disabled:!0}))),r.a.createElement(_e.a,{check:!0,row:!0},r.a.createElement(je.a,{sm:{size:10,offset:2}},r.a.createElement(Ee.a,{color:"primary",type:"submit",disabled:this.props.inProgress},"Save")))),r.a.createElement("hr",null),r.a.createElement(Ee.a,{color:"danger",onClick:this.props.onClickLogout},"Or click here to logout."))}}]),t}(n.Component),ft=Object(i.c)((function(e){return Object(E.a)({},e.settings,{currentUser:e.common.currentUser})}),(function(e){return{onClickLogout:function(){return e({type:"LOGOUT"})},onSubmitForm:function(t){return e({type:"SETTINGS_SAVED",payload:t})},onUnload:function(){return e({type:"SETTINGS_PAGE_UNLOADED"})}}}))(Et),vt=Object(i.c)((function(){return{}}),(function(e){return{onClick:function(t,a){return e({type:"DELETE_CODE",payload:t,codeId:a})}}}))((function(e){return r.a.createElement(Ee.a,{type:"button",outline:!0,color:"danger",onClick:function(t){return function(t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation();var a=u.a.Code.remove(e.codeId);e.onClick(a,e.codeId)}(t)}},"Remove")})),yt=Object(i.c)((function(){return{}}),(function(e){return{onClick:function(t){return e({type:"CODE_EDITOR_PAGE_TOGGLED",codeId:t})}}}))((function(e){return e.error?r.a.createElement("div",null,"Error ",e.error):e.codes?0===e.codes.length?r.a.createElement("div",{className:"code-preview"},"No codes are here... yet."):r.a.createElement(ce.a,null,e.codes.map((function(t){return r.a.createElement("div",{className:"list-group-item list-group-item-action flex-column align-items-start",key:t.id,onClick:function(){return e.onClick(t.id)}},r.a.createElement("div",{className:"d-flex w-100 justify-content-between"},r.a.createElement("h5",{className:"mb-1"},t.code)),r.a.createElement("div",{className:"d-flex w-100 justify-content-between"},r.a.createElement("p",{className:"mb-1"},t.title," - ",t.description),r.a.createElement(vt,{codeId:t.id})))}))):r.a.createElement("div",{className:"code-preview"},"Loading...")})),gt=a(250),bt=a(243),kt=a(244),Ct=a(245),Ot=function(e){function t(){var e;return Object(S.a)(this,t),(e=Object(L.a)(this,Object(Y.a)(t).call(this))).submitForm=function(t){t.preventDefault();var a=e.hasCurrentCode?u.a.Code.update(e.state.newCode,e.props.codeId):u.a.Code.create(e.state.newCode);e.props.onSubmitForm(a)},e.state={newCode:{code:"",title:"",description:""}},e.updateState=function(t){var a=e.state.newCode;Object.assign(a,Object(h.a)({},t.target.name,t.target.value)),e.setState({newCode:a})},e.submitForm.bind(Object(V.a)(e)),e}return Object(G.a)(t,e),Object(R.a)(t,[{key:"componentDidUpdate",value:function(e){if(this.props.codeId&&e.codeId!==this.props.codeId)return this.props.onLoad(u.a.Code.get(this.props.codeId));e.hasOwnProperty("codeId")||null!==this.props.codeId||this.setState({newCode:{code:this.props.code||"",title:this.props.title||"",description:this.props.description||""}}),this.props.newCode&&(this.hasCurrentCode?this.props.onCodeUpdate({code:this.props.newCode}):this.props.onCodeAdded({code:this.props.newCode}),this.cancel()),!e.codeReceived&&this.props.codeReceived&&this.setState({newCode:{code:this.props.code||"",title:this.props.title||"",description:this.props.description||""}})}},{key:"componentWillUnmount",value:function(){this.props.onUnload()}},{key:"cancel",value:function(){this.props.onToggle(),this.props.onUnload()}},{key:"render",value:function(){return r.a.createElement(gt.a,{isOpen:this.props.modal,toggle:this.cancel.bind(this)},r.a.createElement(Ne.a,{onSubmit:this.submitForm},r.a.createElement(bt.a,null,this.hasCurrentCode?"Update Code":"Add new Code"),r.a.createElement(kt.a,null,r.a.createElement(Oe,{errors:this.props.errors}),r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"code",sm:2},"Code"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"text",name:"code",id:"code",placeholder:"Code",value:this.state.newCode.code,onChange:this.updateState}))),r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"title",sm:2},"Title"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"text",name:"title",id:"title",placeholder:"Title",value:this.state.newCode.title,onChange:this.updateState}))),r.a.createElement(_e.a,{row:!0},r.a.createElement(Ue.a,{for:"description",sm:2},"Description"),r.a.createElement(je.a,{sm:10},r.a.createElement(Ae.a,{type:"textarea",name:"description",id:"description",placeholder:"Description",value:this.state.newCode.description,onChange:this.updateState})))),r.a.createElement(Ct.a,null,r.a.createElement(Ee.a,{color:"primary",type:"submit",disabled:this.props.inProgress},this.hasCurrentCode?"Save":"Add")," ",r.a.createElement(Ee.a,{color:"secondary",onClick:this.cancel.bind(this)},"Cancel"))))}},{key:"hasCurrentCode",get:function(){return"undefined"!==typeof this.props.codeId&&null!==this.props.codeId}}]),t}(n.Component),It=Object(i.c)((function(e){return Object(E.a)({},e.codeForm)}),(function(e){return{onLoad:function(t){return e({type:"CODE_FORM_PAGE_LOADED",payload:t})},onUnload:function(){return e({type:"CODE_FORM_PAGE_UNLOADED"})},onToggle:function(){return e({type:"CODE_EDITOR_PAGE_TOGGLED"})},onSubmitForm:function(t){return e({type:"CODE_SUBMITTED",payload:t})},onCodeAdded:function(t){return e({type:"CODE_ADDED",payload:t})},onCodeUpdate:function(t){return e({type:"CODE_UPDATED",payload:t})}}}))(Ot),Tt=a(246),Dt=a(247),Nt=function(e){function t(){return Object(S.a)(this,t),Object(L.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(G.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){this.props.onLoad(Promise.all([u.a.Code.all()]))}},{key:"componentWillUnmount",value:function(){this.props.onUnload()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container main"},r.a.createElement(Oe,{errors:this.props.errors}),r.a.createElement(Tt.a,{className:"navbar--settings"},r.a.createElement(Dt.a,null,r.a.createElement(Ee.a,{color:"secondary",outline:!0,onClick:this.props.onToggleCodeEditor},"Add Code"))),r.a.createElement("hr",null),this.props.successId?r.a.createElement(De.a,{color:"success"},"Action successfull. Id:",this.props.successId):null,r.a.createElement("h1",null,"Community ICF Codes"),r.a.createElement(yt,{codes:this.props.codes,error:this.props.error}),r.a.createElement(It,null))}}]),t}(n.Component),_t=Object(i.c)((function(e){return Object(E.a)({},e.code)}),(function(e){return{onLoad:function(t){return e({type:"CODE_PAGE_LOADED",payload:t})},onUnload:function(){return e({type:"CODE_PAGE_UNLOADED"})},onToggleCodeEditor:function(){return e({type:"CODE_EDITOR_PAGE_TOGGLED"})}}}))(Nt),Ut=a(131);function jt(e){var t=e.component,a=e.currentUser,n=Object(Ut.a)(e,["component","currentUser"]);return r.a.createElement(F.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,Object.assign({},e,a)):r.a.createElement(F.a,{to:"/"})}}))}var At=function(e){function t(){return Object(S.a)(this,t),Object(L.a)(this,Object(Y.a)(t).apply(this,arguments))}return Object(G.a)(t,e),Object(R.a)(t,[{key:"componentDidMount",value:function(){var e=window.localStorage.getItem("jwt");e&&u.a.setToken(e),this.props.onLoad(e?u.a.Auth.current():null,e)}},{key:"render",value:function(){return this.props.appLoaded?r.a.createElement("div",null,r.a.createElement(ae,{appName:this.props.appName,currentUser:this.props.currentUser}),r.a.createElement(F.d,null,r.a.createElement(F.b,{exact:!0,path:"/",component:Te}),r.a.createElement(F.b,{path:"/login",component:xe}),r.a.createElement(F.b,{path:"/register",component:Fe}),r.a.createElement(jt,{path:"/editor/:id",component:ht,currentUser:this.props.currentUser}),r.a.createElement(jt,{path:"/editor",component:ht,currentUser:this.props.currentUser}),r.a.createElement(jt,{path:"/code",component:_t,currentUser:this.props.currentUser}),r.a.createElement(jt,{path:"/settings",component:ft,currentUser:this.props.currentUser}),r.a.createElement(F.b,{component:re}))):r.a.createElement("div",null,r.a.createElement(ae,{appName:this.props.appName,currentUser:this.props.currentUser}))}}]),t}(n.Component),wt=Object(i.c)((function(e){return{appLoaded:e.common.appLoaded,appName:e.common.appName,currentUser:e.common.currentUser}}),(function(e){return{onLoad:function(t,a){return e({type:"APP_LOAD",payload:t,token:a,skipTracking:!0})}}}))(At);o.a.render(r.a.createElement(i.a,{store:P},r.a.createElement(_.a,{history:w},r.a.createElement(F.d,null,r.a.createElement(F.b,{path:"/",component:wt})))),document.getElementById("root"))},9:function(e,t,a){"use strict";(function(e){var n=a(122),r=a.n(n),c=a(123),o=a.n(c),i=r()(o.a,e.Promise),l="https://server1.hilberg-it.de:443/app/api/",s=encodeURIComponent,u=function(e){return e.body},p=null,d=function(e){p&&e.set("authorization","Bearer ".concat(p))},m=function(e){return i.del("".concat(l).concat(e)).use(d).then(u)},h=function(e){return i.get("".concat(l).concat(e)).use(d).then(u)},E=function(e,t){return i.put("".concat(l).concat(e),t).set("Content-Type","application/json").use(d).then(u)},f=function(e,t){return i.post("".concat(l).concat(e),t).set("Content-Type","application/json").use(d).then(u)},v={current:function(){return h("user")},login:function(e,t){return f("user/login",{user:{email:e,password:t}})},register:function(e,t,a,n,r){return f("user",{user:{username:e,email:t,password:a,firstname:n,lastname:r}})},save:function(e){return E("user",{user:e})}},y={get:function(e){return h("profile/".concat(e))}},g={all:function(){return h("report")},get:function(e){return h("report/".concat(e))},create:function(e){return f("report",{report:e})},update:function(e,t){return E("report/".concat(t),{report:e})},remove:function(e){return m("report/".concat(e))},getPdfFromDB:function(e){return i.get("".concat(l,"report/createPdfFromDB/").concat(e)).responseType("arraybuffer").use(d)},getPdf:function(e){return i.post("".concat(l,"report/createPdf"),{report:e}).set("Content-Type","application/json").responseType("arraybuffer").use(d)}},b={all:function(e,t){return h("report/".concat(e,"/function?kind=").concat(s(t)))},get:function(e,t){return h("report/".concat(e,"/function/").concat(t))},create:function(e,t){return f("report/".concat(e,"/function"),{functionParam:t})},update:function(e,t,a){return E("report/".concat(e,"/function/").concat(a),{functionParam:t})},remove:function(e,t){return m("report/".concat(e,"/function/").concat(t))}},k={all:function(){return h("patient")},get:function(e){return h("patient/".concat(e))},create:function(e){return f("patient",{patient:e})},update:function(e,t){return E("patient/".concat(t),{patient:e})},remove:function(e){return m("patient/".concat(e))}},C={all:function(){return h("therapist")},get:function(e){return h("therapist/".concat(e))},create:function(e){return f("therapist",{therapist:e})},update:function(e,t){return E("therapist/".concat(t),{therapist:e})},remove:function(e){return m("therapist/".concat(e))}},O={all:function(){return h("code")},get:function(e){return h("code/".concat(e))},create:function(e){return f("code",{code:e})},update:function(e,t){return E("code/".concat(t),{code:e})},remove:function(e){return m("code/".concat(e))}};t.a={Auth:v,Profile:y,Report:g,Function:b,Patient:k,Therapist:C,Code:O,setToken:function(e){p=e}}}).call(this,a(56))}},[[132,1,2]]]);
//# sourceMappingURL=main.53df40f9.chunk.js.map